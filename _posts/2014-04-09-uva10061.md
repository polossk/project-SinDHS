---
layout: post
title: "UVa 10061 How many zero's and how many digits ? 数论 基础数论上手题大清理（7）"
date: 2014-04-09 20:50:02 +0800
categories: contest math
tags: acmicpc uva numbertheory primefact
---
题目地址<a title="UVa 10061" href="http://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=100&page=show_problem&problem=1002" target="_blank">-></a>

题目意思是求一个数N!在以base为底的进制下的总长度和末尾有多少个零。

零很好求：质因数分解，然后查找能够拼成一个base的所有因数，反复即可。

总的长度需要动下脑子：一个m位的base进制数最大可以表示base ^ (m + 1) - 1，考察到数据非常大，我们求对数来解决精度问题。

Code Here
{% highlight cpp %}
#include <iostream>
#include <cstring>
#include <cmath>
using namespace std;

int cnt[1000];
int N,B;

void solve()
{
	memset(cnt,0,sizeof(cnt));
	for(int i = 2; i <= N; i++)
	{
		int tmp = i;
		for(int j = 2; j <= tmp && j <= B; j++)
		{
			while(tmp % j == 0)
			{
				cnt[j]++;
				tmp /= j;
			}
		}
	}
	int ans1 = 0;
	while(1)
	{
		int tmp = B;
		for(int i = 2; i <= tmp; i++)
		{
			while(tmp % i == 0 && cnt[i] > 0)
			{
				cnt[i]--;
				tmp /= i;
			}
		}
		if(tmp == 1) ans1++;
		else break;
	}

	double sum=0;
	for(int i = 2; i <= N; i++)
		sum += log10(double(i));
	sum /= log10(double(B));
	int ans2 = floor(sum + 1e-9) + 1;
	
	cout << ans1 << ' ' << ans2 << endl;
}
int main()
{
	while(cin >> N >> B) solve();
	return 0;
}{% endhighlight %}
