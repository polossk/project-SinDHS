---
layout: post
title: "POJ 3104 Drying 二分答案"
date: 2014-04-26 14:45:00 +0800
categories: contest algorithm
tags: acmicpc poj bsearch
---
题目地址<a title="POJ 3104" href="http://poj.org/problem?id=3104" target="_blank">-></a>

题意是说，有一些衣服，每件衣服有一定水量，有一个烘干机，每次可以烘一件衣服，每分钟可以烘掉k滴水。每件衣服没分钟可以自动蒸发掉一滴水，用烘干机烘衣服时不蒸发。问最少需要多少时间能烘干所有的衣服。

二分答案范围。对一个mid，若一件衣服的水量大于mid，则一件衣服的最短时间是烘干一段时间t，在自己蒸发一段时间。可以算出烘干的时间t[i] = (num[i] - mid) / (k - 1)。这样把所有衣服的时间加起来，进行判断。

## Code Here
{% highlight cpp %}
/****
	*@author    Shen
	*@title     poj 3104
	*/

//#pragma comment(linker, "/STACK:1024000000,1024000000")
//#pragma GCC optimize ("O2")

#include <cstdio>
#include <algorithm>
using namespace std;
typedef long long int64;

const int MaxN = 100005;
int64 data[MaxN];
int64 n, k;

bool test(int val)
{
    int64 cnt = 0;
    for (int i = 0; i < n; i++)
    {
        if (data[i] > val)
        {
            cnt += (data[i] - val + k - 2) / (k - 1);
            if (cnt > val)
                return true;
        }
    }
    return false;
}

int64 Bsearch(int64 l, int64 r)
{
    while (l < r)
    {
        int64 mid = l + (r - l) / 2;
        if (test(mid))
            l = mid + 1;
        else
            r = mid;
    }
    return l + (r - l) / 2;
}

void solve()
{
    int64 maxd = 0;
    for (int i = 0; i < n; i++)
    {
        scanf("%lld", &data[i]);
        maxd = max(data[i], maxd);
    }
    scanf("%lld", &k);
    if (k == 1)
        printf("%lldn", maxd);
    else
        printf("%dn", Bsearch(1LL, maxd));
}

int main()
{
    while (scanf("%lld", &n) != EOF)
        solve();
    return 0;
}{% endhighlight %}
